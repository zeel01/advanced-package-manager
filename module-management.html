<form class="zapm" autocomplete="off">
	<p class="notes">
		{{#if editable }}
		{{localize 'MODMANAGE.Instructions'}}
		{{else}}
		{{localize 'MODMANAGE.View'}}
		{{/if}}
	</p>

	<nav class="list-filters">
		<input type="text" name="search" placeholder="{{localize 'MODMANAGE.Search'}}" value=""/>
		{{#each filters}}
		<a class="filter{{ this.css }}" data-filter="{{ this.id }}">{{ this.label }} ({{ this.count }})</a>
		{{/each}}
	</nav>

	<ul id="module-list" class="directory-list package-list">
		{{#each modules}}
		<li class="package {{css}}" data-module-name="{{this.name}}">
			{{~#if this.icon}}
			<figure class="package-image">
				<img class="module-icon" src="{{this.icon}}">
			</figure>
			{{/if~}}
			<section class="package-info">
				<section class="package-overview">
					<label class="package-title checkbox">
						<figure class="package-toggle">
							<input type="checkbox" class="active" name="{{this.name}}" data-dtype="Boolean" {{checked this.active}}/>
						</figure>
						<span class="module-title">{{~this.title~}}</span>
					</label>
					{{#if this.incompatible }}
					<span class="tag unknown">{{ this.incompatible }}</span>
					{{/if}}
					{{#if this.scripts}}
					<span class="tag javascript">
						JavaScript
					</span>
					{{else if this.esmodules}}
					<span class="tag javascript">JavaScript</span>
					{{/if}}
					{{#if this.styles}}
					<span class="tag css">CSS</span>
					{{/if}}
					{{#if this.packs}}
					<span class="tag compendium">Compendium</span>
					{{/if}}
					<span class="tag version">Version {{ this.version }}</span>
				</section>
				<section class="package-description">
					{{{this.description}}}
					<ul class="package-metadata">
						<li><strong>{{localize "Author"}}:</strong> <span class="author">{{this.author}}</span></li>
						{{#if this.url}}
						<li><a href="{{this.url}}" target="_blank"><strong>{{localize "URL"}}</a></strong></li>
						{{/if}}
						{{#if this.readme}}
						<li><strong><a href="{{this.readme}}" target="_blank">{{localize "MODMANAGE.Readme"}}</a></strong></li>
						{{/if}}
						{{#if this.bugs}}
						<li><strong><a href="{{this.bugs}}" target="_blank">{{localize "MODMANAGE.Bugs"}}</a></strong></li>
						{{/if}}
						{{#if this.dependencies}}
						<li>
							<strong>{{ localize "MODMANAGE.Dependencies" }}:</strong>
							{{#each this.dependencies}}
							<span class="tag">{{ this }}</span>
							{{/each}}
						</li>
						{{/if}}
					</ul>
				</section>
			</section>
		</li>
		{{ else }}
		<p class="notes">{{ localize "MODMANAGE.None" }}</p>
		{{/each}}
	</ul>

	{{#if editable}}
	<footer class="flexrow">
		<button type="submit" name="submit" value="1">
			<i class="far fa-save"></i> {{localize 'MODMANAGE.Submit'}}
		</button>
		<button type="button" name="deactivate">
			<i class="fas fa-ban"></i> {{localize 'MODMANAGE.DeactivateAll'}}
		</button>
	</footer>
	{{/if}}
</form>
